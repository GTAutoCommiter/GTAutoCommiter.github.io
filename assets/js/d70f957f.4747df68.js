"use strict";(self.webpackChunkjv_blog=self.webpackChunkjv_blog||[]).push([[7859],{9093:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var r=t(4848),o=t(8453);const s={},i="\u5c01\u88c5\u539f\u56e0",a={permalink:"/blog/develop/\u3010Taro\u3011\u5c01\u88c5\u76d1\u542c\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u662f\u5426\u4e3a\u5f53\u524d\u9875\u9762hook",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/develop/\u3010Taro\u3011\u5c01\u88c5\u76d1\u542c\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u662f\u5426\u4e3a\u5f53\u524d\u9875\u9762hook.md",source:"@site/blog/develop/\u3010Taro\u3011\u5c01\u88c5\u76d1\u542c\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u662f\u5426\u4e3a\u5f53\u524d\u9875\u9762hook.md",title:"\u5c01\u88c5\u539f\u56e0",description:"1. \u9879\u76ee\u9700\u6c42\u903b\u8f91\u6709\u4e9b\u9875\u9762\u9700\u8981\u5224\u65ad\u662f\u5426\u4e3a\u5f53\u524d\u9875\u9762\u3002",date:"2025-08-07T07:15:06.000Z",tags:[],readingTime:1.14,hasTruncateMarker:!1,authors:[],frontMatter:{},unlisted:!1,prevItem:{title:"develop/Javascript\u9677\u9631",permalink:"/blog/develop/Javascript\u9677\u9631"},nextItem:{title:"\u524d\u8a00",permalink:"/blog/develop/\u5df2\u53d1\u5e03/\u3010\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u3011\u5982\u4f55\u4e0d\u70b9\u51fb\uff0c\u4f7f\u7528\u65b9\u6cd5\u89e6\u53d1\u6309\u94ae\u7684\u70b9\u51fb\u4e8b\u4ef6\uff1f"}},c={authorsImageUrls:[]},l=[];function d(n){const e={code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u9879\u76ee\u9700\u6c42\u903b\u8f91\u6709\u4e9b\u9875\u9762\u9700\u8981\u5224\u65ad\u662f\u5426\u4e3a\u5f53\u524d\u9875\u9762\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5c0f\u7a0b\u5e8f"}),"\n"]}),"\n",(0,r.jsx)(e.h1,{id:"\u9879\u76ee\u73af\u5883",children:"\u9879\u76ee\u73af\u5883"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'"@tarojs/react": "3.5.12",\n"react": "^18.0.0",\n"mobx": "^6.7.0"\n'})}),"\n",(0,r.jsx)(e.h1,{id:"\u5177\u5907\u529f\u80fd",children:"\u5177\u5907\u529f\u80fd"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u5224\u65ad\u662f\u5426\u4e3a\u5f53\u524d\u9875\u9762\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u83b7\u53d6\u5f53\u524d\u9875\u9762\u643a\u5e26\u53c2\u6570\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u9875\u9762\u6807\u9898\u968f\u9875\u9762\u5207\u6362\u800c\u6539\u53d8\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h1,{id:"\u4f18\u70b9",children:"\u4f18\u70b9"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u9875\u9762\u6807\u9898\u8bbe\u7f6e\u7edf\u4e00\u7ba1\u7406\u3002"}),"\n",(0,r.jsx)(e.li,{}),"\n"]}),"\n",(0,r.jsx)(e.h1,{id:"\u5b9e\u73b0",children:"\u5b9e\u73b0"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"import { ENUM } from '@/stores/definitions_path';\nimport rootStore from '../stores';\n\nexport function useIsPage(pageSign) {\n  const {\n    dataStore,\n  } = rootStore || {};\n  const curPage = dataStore?.curPage;\n  \n  const isInThisPage = `/${curPage}` === pageSign;\n  const title = ENUM?.[`/${curPage}`] || '';\n  const [page] = useState(Taro.getCurrentInstance());\n\n  Taro.setNavigationBarTitle({ title: title })\n\n  const pageInfo = {\n    routerParam: page?.router?.params,\n    title,\n  }\n\n  return [isInThisPage, pageInfo];\n}\n"})}),"\n",(0,r.jsx)(e.h1,{id:"\u4f7f\u7528",children:"\u4f7f\u7528"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u5148\u914d\u7f6e",(0,r.jsx)(e.code,{children:"definitions_path"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"// \u9875\u9762\u8def\u5f84\nconst pathSetting = {\n  // \u9996\u9875\n  INDEX: {\n    path: '/pages/index/index',\n    text: '\u9996\u9875',\n  },\n  // \u6211\u7684\u9875\u9762\n  ME: {\n    path: '/pages/me/index',\n    text: '\u6211\u7684',\n  },\n  ...\n};\n\nexport const {\n  PATH_PAGE,\n  ENUM,\n} = Object.entries(pathSetting).reduce((resObj, cur) => {\n  const [key, info] = cur;\n  resObj.PATH_PAGE[key] = info?.path;\n  resObj.ENUM[info?.path] = info?.text;\n  return resObj;\n}, {\n  PATH_PAGE: {},\n  ENUM: {},\n})\n\n"})}),"\n"]}),"\n",(0,r.jsx)(e.li,{}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>a});var r=t(6540);const o={},s=r.createContext(o);function i(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:i(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);