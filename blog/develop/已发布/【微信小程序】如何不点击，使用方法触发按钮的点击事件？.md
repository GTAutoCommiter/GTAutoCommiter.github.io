# å‰è¨€

* éœ€æ±‚ï¼šæƒ³è¦ä½¿ç”¨æ–¹æ³•æ¥è§¦å‘Buttonå…ƒç´ ä¸­çš„onClickäº‹ä»¶ï¼Œè€Œä¸æ˜¯äººä¸ºç‚¹å‡»è§¦å‘ã€‚

* ç¯å¢ƒï¼š

  ````json
  "@tarojs/react": "3.5.12",
  "react": "^18.0.0"
  ````

# å®ç°

````javascript
function autoClick(clickId) {
  const e = document.createEvent("MouseEvents");
  //å°†å…ƒç´ çš„äº‹ä»¶ç±»å‹æ”¹ä¸ºtap
  e.type = "tap";
	document.getElementById(clickId).dispatchEvent(e);
}
````

* å‚æ•°ï¼š`clickId<string>` ï¼šç‚¹å‡»æŒ‰é’®idæ ‡è®°

* ç¤ºä¾‹ï¼š

  ````jsx
  const component=()=>{
    useEffect(()=>{
      autoClick('test-autoClick');
      //=>test
    },[])
    
    function autoClick(clickId) {
      const e = document.createEvent("MouseEvents");
      e.type = "tap";
      document.getElementById(clickId).dispatchEvent(e);
    }  
    
    return (
      <Button 
        id='test-autoClick'
        onClick={()=>console.log('test')}
      >
        æŒ‰é’®
      </Button>
     )
  }
  ````

# æ€è€ƒè¿‡ç¨‹

* é€šè¿‡å¯¹æ¯”ç‚¹å‡»äº‹ä»¶å±æ€§å€¼æ¥æ‰¾åˆ°å®ç°æ–¹æ³•

  ![](https://gitee.com/lao-jiawei/photo-gallery/raw/master/images/blog/20240829231124.png)

  * å·¦ï¼šæ–¹æ³•ä¸­`createEvent`å‡ºæ¥çš„äº‹ä»¶å¯¹è±¡ã€‚
  * å³ï¼šç‚¹å‡»æŒ‰é’®è¾“å‡ºçš„ç‚¹å‡»äº‹ä»¶å¯¹è±¡ã€‚

# ç–‘é—®

> ä»¥ä¸‹æ˜¯æœ¬äººå¯¹æ”¹å†…å®¹çš„ä¸€äº›ç–‘é—®ï¼Ÿæ³è¯·è¯»è€…èƒ½ä¸ºæˆ‘æŒ‡ç‚¹è¿·æ´¥ï¼Œååˆ†æ„Ÿè°¢ğŸ™

Qï¼šè‹¥æƒ³è‡ªåŠ¨è§¦å‘å¾®ä¿¡ç‚¹å‡»äº‹ä»¶ï¼ˆå¦‚è·å–æ‰‹æœºå·ã€è”ç³»å®¢æœç­‰ï¼‰ï¼Œä¼šå‡ºç°å¦‚ä¸‹æŠ¥é”™ï¼ˆå³å¿…é¡»ç”¨æˆ·ç‚¹å‡»æ‰å¯è§¦å‘ï¼‰ï¼Œè¯¥åœºæ™¯å¦‚ä½•å®ç°è‡ªåŠ¨è§¦å‘ï¼Ÿ

* å¤ç°ï¼šå°†ä¸Šè¿°ç¤ºä¾‹æŒ‰é’®ä¸­çš„`onClick`äº‹ä»¶æ›¿æ¢æˆè”ç³»å®¢æœ

  ````jsx
  <Button
    id='test'
    onClick={() => {
      Taro.openCustomerServiceChat({
        extInfo: { url: globalThis.config.serviceUrl },
        corpId: globalThis.config.corpId,
      })
    }}
  >
    æŒ‰é’®
  </Button>
  ````



* æŠ¥é”™

  ![](https://gitee.com/lao-jiawei/photo-gallery/raw/master/images/blog/20240829230456.png)





